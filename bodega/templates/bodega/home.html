{% extends 'bodega/base.html' %}
{% load permisos_tags %}

{% block title %}Inicio - Bodega Eirete{% endblock %}

{% block content %}
  <div class="alert alert-info text-center mt-3" role="alert">
    <strong>Bienvenido</strong> al Sistema de Gestión de Bodega Eirete.
  </div>

  <div class="row mt-4">
    <!-- Empleados -->
    {% if request.user|tiene_permiso:"ver_empleado" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Empleados</h5>
          <p class="card-text">Gestiona el registro de empleados.</p>
          <a href="{% url 'empleado_list' %}" class="btn btn-custom">Ver Empleados</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Usuarios -->
    {% if request.user|tiene_permiso:"ver_usuario" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Usuarios</h5>
          <p class="card-text">Gestiona usuarios del sistema.</p>
          <a href="{% url 'usuario_list' %}" class="btn btn-custom">Ver Usuarios</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Roles -->
    {% if request.user|tiene_permiso:"ver_rol" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Roles</h5>
          <p class="card-text">Gestiona roles asignados.</p>
          <a href="{% url 'rol_list' %}" class="btn btn-custom">Ver Roles</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Permisos -->
    {% if request.user|tiene_permiso:"ver_permiso" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Permisos</h5>
          <p class="card-text">Gestiona permisos del sistema.</p>
          <a href="{% url 'permiso_list' %}" class="btn btn-custom">Ver Permisos</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Productos -->
    {% if request.user|tiene_permiso:"ver_producto" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Productos</h5>
          <p class="card-text">Gestiona el inventario de productos.</p>
          <a href="{% url 'producto_list' %}" class="btn btn-custom">Ver Productos</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Movimientos -->
    {% if request.user|tiene_permiso:"ver_movimiento" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Historial de Movimientos</h5>
          <p class="card-text">Registra entradas y salidas de productos.</p>
          <a href="{% url 'movimiento_list' %}" class="btn btn-custom">Ver Movimientos</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Proveedores -->
    {% if request.user|tiene_permiso:"ver_proveedor" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Proveedores</h5>
          <p class="card-text">Gestiona los proveedores del sistema.</p>
          <a href="{% url 'proveedor_list' %}" class="btn btn-custom">Ver Proveedores</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Órdenes de Compra -->
    {% if request.user|tiene_permiso:"ver_orden_compra" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Órdenes de Compra</h5>
          <p class="card-text">Gestiona las órdenes emitidas a proveedores.</p>
          <a href="{% url 'orden_compra_list' %}" class="btn btn-custom">Ver Órdenes</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Clientes -->
    {% if request.user|tiene_permiso:"ver_cliente" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Clientes</h5>
          <p class="card-text">Gestiona los datos de tus clientes.</p>
          <a href="{% url 'cliente_list' %}" class="btn btn-custom">Ver Clientes</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Almacen -->
    {% if request.user|tiene_permiso:"ver_almacen" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Almacenes</h5>
          <p class="card-text">Gestiona las ubicaciones de tus bodegas.</p>
          <a href="{% url 'almacen_list' %}" class="btn btn-custom">Ver Almacenes</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Categorías -->
    {% if request.user|tiene_permiso:"ver_categoria" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Categorías</h5>
          <p class="card-text">Clasifica tus productos por categoría.</p>
          <a href="{% url 'categoria_list' %}" class="btn btn-custom">Ver Categorías</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Inventario -->
    {% if request.user|tiene_permiso:"ver_inventario" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Inventario</h5>
          <p class="card-text">Consulta el stock de productos por almacén.</p>
          <a href="{% url 'inventario_list' %}" class="btn btn-custom">Ver Inventario</a>
        </div>
      </div>
    </div>
    {% endif %}
    
    <!-- Pedidos -->
    {% if request.user|tiene_permiso:"ver_pedido" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Pedidos</h5>
          <p class="card-text">Gestión de pedidos realizados por los clientes, incluyendo estado y detalle de productos.</p>
          <a href="{% url 'pedido_list' %}" class="btn btn-custom">Ver Pedidos</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Facturas -->
    {% if request.user|tiene_permiso:"ver_factura" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Facturas</h5>
          <p class="card-text">Consulta y gestiona las facturas emitidas.</p>
          <a href="{% url 'factura_list' %}" class="btn btn-custom">Ver Facturas</a>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Reporte de Inventario -->
    {% if request.user|tiene_permiso:"ver_inventario" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Reporte de Inventario</h5>
          <p class="card-text">Visualiza stock por almacén y categoría.</p>
          <a href="{% url 'reporte_inventario' %}" class="btn btn-custom">Ver Reporte</a>
        </div>
      </div>  
    </div>
    {% endif %}

    <!-- Reporte de Movimientos -->
    {% if request.user|tiene_permiso:"ver_movimiento" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Reporte de Movimientos</h5>
          <p class="card-text">Entradas y salidas de productos filtrables por almacén.</p>
          <a href="{% url 'reporte_movimientos' %}" class="btn btn-custom">Ver Reporte</a>
        </div>
      </div>  
    </div>
    {% endif %}

    <!-- Reporte de Pedidos -->
    {% if request.user|tiene_permiso:"ver_pedido" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Reporte de Pedidos</h5>
          <p class="card-text">Consulta pedidos con totales estimados.</p>
          <a href="{% url 'reporte_pedidos' %}" class="btn btn-custom">Ver Reporte</a>
        </div>
      </div>  
    </div>
    {% endif %}

    <!-- Reporte de Facturas -->
    {% if request.user|tiene_permiso:"ver_factura" %}
    <div class="col-md-3">
      <div class="card shadow-sm mb-4">
        <div class="card-body text-center">
          <h5 class="card-title">Reporte de Facturas</h5>
          <p class="card-text">Lista de facturas emitidas con exportación.</p>
          <a href="{% url 'reporte_facturas' %}" class="btn btn-custom">Ver Reporte</a>
        </div>
      </div>  
    </div>
    {% endif %}
  </div>
{% endblock %}
